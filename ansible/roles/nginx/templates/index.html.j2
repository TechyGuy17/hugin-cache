<!DOCTYPE html>
<!-- Written by TechyGuy (TechyGuy#3470 @ discord, techy@novastack.org) for hugin cache, comes with no varanty but no copyright either. The code is free to edit however you want -->
<html>
<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

</head>
<body>
<script>
    fetch('{{ index_file_url }}')
        .then((response) => {
            return response.json()
        })
        .then((json) => {
            var temp = "";
            json.items.forEach(item => {
                let username = item.nickname
                if (username == null) {
                  nickname = "Anonymous"
                }
                temp += "<tr>";
                temp += "<td>" + nickname + "</td>";
                temp += "<td>" + item.message + "</td>";
                temp += "<td>" + item.board + "</td>";
                temp += "<td>" + new Date(item.time * 1000) + "</td>";
                document.getElementById('item').innerHTML = temp;
            })
        })

</script>
<h2 style="text-align: center;">Last 50 messages:</h2>
<h5 style="text-align: center;">Want more? Use the api instead! {{ index_file_url }}</h5>
<div class="container">
    <table class="table">
        <thead>
        <tr>
            <th>Nickname</th>
            <th>Message</th>
            <th>Board</th>
            <th>Time</th>

        </tr>
        </thead>
        <tbody id="item">

        </tbody>
    </table>
</div>
</body>
</html>
